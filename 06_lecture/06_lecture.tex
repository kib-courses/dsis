\input{./../header/kib.tex}
\input{./../header/user.tex}

\title{Лекция 6. UEBA: алгоритмы <<behс>> и <<behi>>. Обнаружение социальной инженерии. Задача распознавания семейства ВПО.}

% \date{\today}
\date{12 ноября 2019}
\author{Павел Владимирович Слипенчук }
\institute{Москва, МГТУ им.Бауманка,\\ каф.ИУ-8, \href{https://t.me/kibinfo}{КИБ}}
% \titlegraphic{\includegraphics[width=2cm]{logo_ur.jpg}}
\titlegraphic{\small \href{https://github.com/kib-courses/dsis}{Data Science для решения задач информационной безопасности}}

\begin{document}
  \maketitle
    
\begin{frame}{План лекции}
    \begin{enumerate}
    	\item \nameref{section:nn_no_work}
		\item \nameref{section:text_tasks}
		\item \nameref{section:behс}
		\item \nameref{section:behi}
	\end{enumerate}
\end{frame}

\section{Как НЕ работают нейронные сети}\label{section:nn_no_work}
% прерывные потоки и почему не работает нейронные сети

\begin{frame}
	\small
	Нейронная сеть -- это последовательно-параллельный ансамбль решающих пней.
	
	\begin{center}
		\includegraphics[width=7.5cm]{../pic/nn_example.png}\centering
	\end{center}
	
	Любую ЭС можно представить как нейронную сеть.
	
	Проблема нейронных сетей -- как их обучать.
\end{frame}

\begin{frame}{Backpropagation}
	Метод обратного распространения ошибки (backpropagation) 
	-- требует <<локальной связности>> признаков. 
	
	Изображение (пиксели), временные ряды, треки мыши, голос этой <<локальной связностью>>
	обладают.
	
	Текст естественного языка -- в меньшей степени. Но текстов очень много и букв всего 33.
\end{frame}

\begin{frame}{Проблема больших алфавитов и разряженных слов}
	
	Представьте себе цепочки с алфавитом в 300-500 букв,
	которые достаточно разряжены.
	
	TODO изображение.
	
	Теоретически их тоже можно решить нейронной сетью,
	однако потребуется большее количество данных, чем для текста.
\end{frame}


\section{Задача исследования активностей пользователей и мапинг.}\label{section:text_tasks}

\begin{frame}
		
	\begin{center}
		\includegraphics[width=9.5cm]{../pic/sber_logo_1.png}\centering
	\end{center}

\end{frame}

\begin{frame}{Мапинг страниц}
	\includegraphics[width=4.9cm]{../pic/sber_logo_1.png}
	\includegraphics[width=5.7cm]{../pic/sber_logo_2.png}
	
	\textbf{https://[$\hat{}$/]+/CSAFront/index.do} ~~ $\longmapsto$ 258
	
	\textbf{https://[$\hat{}$/]+/PhizIC/private/payments/print.do$\backslash$?id=} ~~ $\longmapsto$ 54
\end{frame}

\begin{frame}{Мапинг страниц}
	Задача мапинга не тривиальна, как может показатся на первый взгляд.
	
	Одни из проблем мапинга:
	\begin{enumerate}
		\item Некоторые URL имеют таргетированную информацию (например номер счёта, id и т.д.).
		Эти числа не должны учитываться в регулярных выражениях.
		С другой стороны существуют существенные идентификаторы. 
		(В случае Сбербанк.Онлайн например ServiceID)
		\item Некоторые страницы делают одно и то же но в силу каких-либо исторических причин 
		имеют несколько url
		\item Приоритет регулярных выражений. Они могут пересекаться и возникнут ошибки.
		\item \auditorium{что ещё?}
	\end{enumerate}
\end{frame}

\begin{frame}{Построение мапинга}
	Процесс итеративный.
	\begin{enumerate}
		\item Собираем данные
		\item Пишем регулярные выражения
		\item Удаляем данные попавшие под регулярные выражения. Если ещё есть url, то goto 2
		\item goto 1
	\end{enumerate}
\end{frame}

\begin{frame}{SPA}
	Одностраничные приложения (single page application, SPA)
	имеют ровно один url
	
	\auditorium{Как проводим мапинг?}
\end{frame}

\

\begin{frame}{Итог мапинга}
	\small
	Любое нахождение на каком либо действии можно представить в виде действия.
	
	\begin{tabular}{lr}
		\textbf{regexp} & \textbf{num} \\
		... & ... \\
		https://[$\hat{}$/]+/PhizIC/private/payments/payment.do$\backslash$?id= & 50 \\
		https://[$\hat{}$/]+/PhizIC/private/payments/payment.do$\backslash$?template= & 51 \\
		https://[$\hat{}$/]+/PhizIC/private/payments/payment.do$\backslash$?offerId= & 52 \\
		... & ... \\
		https://[$\hat{}$/]+/PhizIC/private/news/dayList.do & 117 \\
		https://[$\hat{}$/]+/PhizIC/private/ima/office/list.do & 118 \\
	\end{tabular}
	
	Таким образом каждый url с помощью \textbf{regexp} мапится в уникальный 
	номер $num$ единственным способом. 
\end{frame}

\begin{frame}}{Итог мапинга}
	С помощью мапинга любую активность пользователя можно представить в виде последовательности
	действий:
	
	
\end{frame}

\section{Алгоритм behс}\label{section:behс}


\section{Алгоритм behi}\label{section:behi}


\section{Вопросы для самопроверки}

\end{document}